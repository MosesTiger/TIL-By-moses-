
# Next.js의 자동 코드 분할과 미리 가져오기


## 자동 코드 분할 (Automatic Code-Splitting)



자동 코드 분할은 Next.js의 핵심 기능 중 하나로, 애플리케이션의 각 경로(segment)를 개별적인 청크(chunk)로 나누어 필요한 시점에만 로드합니다. 이는 전통적인 React 단일 페이지 애플리케이션(SPA)과 크게 다릅니다. SPA에서는 초기 로드 시 전체 애플리케이션 코드가 한 번에 로드되기 때문에 초기 로드 시간이 길어질 수 있습니다.


### 어떻게 작동하나요?



- **경로 기반 분할**: 각 페이지는 개별적인 번들로 분할됩니다. 사용자가 특정 경로를 요청할 때, 그 경로에 필요한 코드만 로드됩니다.
- **성능 최적화**: 초기 로드 시간을 줄이고, 필요한 코드만 로드하므로 애플리케이션의 성능이 향상됩니다.



### 예시



다음은 각 페이지가 개별 번들로 분할되는 방식을 보여주는 예시입니다.


```bash
/pages
  /index.js  # 홈페이지
  /about.js  # about 페이지
  /contact.js  # contact 페이지


- `/index.js` 페이지를 로드할 때, Next.js는 `/index.js` 번들만 로드합니다.
- `/about` 페이지로 네비게이션할 때, `/about.js` 번들만 로드합니다.
```

## 미리 가져오기 (Prefetching)


Next.js는 링크된 페이지들을 미리 가져오는 기능을 제공하여 네비게이션 속도를 더욱 향상시킵니다. 이는 사용자가 특정 링크에 마우스를 올리거나 터치할 때, 해당 링크와 연결된 페이지의 코드를 미리 로드합니다.

### 어떻게 작동하나요?

- **Link 컴포넌트**: Next.js의 `Link` 컴포넌트는 기본적으로 링크된 페이지를 미리 가져오는 기능을 포함하고 있습니다.
- **마우스 오버**: 사용자가 링크에 마우스를 올리면, Next.js는 해당 링크의 페이지 코드를 미리 가져와 로드합니다.


### 예시
다음은 Next.js의 `Link` 컴포넌트를 사용하여 미리 가져오기 기능을 활용하는 예시입니다.

```javascript
import Link from 'next/link';

export default function Navbar() {
  return (
    <nav>
      <Link href="/">
        <a>Home</a>
      </Link>
      <Link href="/about">
        <a>About</a>
      </Link>
      <Link href="/contact">
        <a>Contact</a>
      </Link>
    </nav>
  );
}
```


- **Home, About, Contact 링크**: 이 링크들은 사용자가 마우스를 올리면 해당 페이지를 미리 가져옵니다.
- **네비게이션 속도 향상**: 사용자가 링크를 클릭할 때 페이지 전환이 더욱 빠르게 이루어집니다.


## 요약


- **자동 코드 분할**: Next.js는 애플리케이션을 경로별로 나누어 필요한 시점에만 해당 코드를 로드합니다. 이는 초기 로드 시간을 줄이고 성능을 최적화합니다.
- **미리 가져오기**: `Link` 컴포넌트를 통해 링크된 페이지의 코드를 미리 로드하여 네비게이션 속도를 향상시킵니다.


이러한 기능들은 Next.js 애플리케이션이 빠르고 효율적으로 작동하도록 도와줍니다. 자동 코드 분할과 미리 가져오기 덕분에 사용자 경험이 크게 향상됩니다.
